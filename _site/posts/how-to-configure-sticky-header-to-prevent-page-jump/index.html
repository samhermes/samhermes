<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>How to configure a sticky header to prevent page jump</title>
<meta name="description" content="As I’ve been out browsing the web lately, I’ve come across quite a few sticky headers that are implemented in a way that causes the page to jump up as scroll...">

<link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i" rel="stylesheet">
<link rel="stylesheet" href="/css/main.css">

<link rel="canonical" href="https://samhermes.com/posts/how-to-configure-sticky-header-to-prevent-page-jump/">
<link rel="alternate" type="application/rss+xml" title="Sam Hermes" href="https://samhermes.com/feed.xml">

<header class="site-header group">
    <a href="/"><img src="/img/samhermes.svg" alt="Sam Hermes"></a>
    <ul class="site-nav">
      <li><a href="/posts">Posts</a></li>
      <li><a href="/about">About</a></li>
    </ul>
</header>

<div class="page">
<article class="post">

  <header class="post-header">
    <p class="post-meta"><time>Nov 10 2016</time></p>
    <h2 class="post-title">How to configure a sticky header to prevent page jump</h2>
  </header>

  <div class="post-content">
    <p>As I’ve been out browsing the web lately, I’ve come across quite a few sticky headers that are implemented in a way that causes the page to jump up as scrolling begins. They are statically positioned at the top of the page, and then convert to fixed position when the page is scrolled down to a certain point. That works well, except removing an element from its position in the page leaves a gap, and that gap will close immediately after the element is removed, causing the page to jump up.</p>

<p>Fortunately, the fix is simple and straightforward. We must simply fill the gap left by a sticky header. We can fill it in a number of ways, a few of which I will detail now.</p>

<h3 id="apply-padding-to-the-top-or-bottom-of-the-nearest-element">Apply padding to the top or bottom of the nearest element</h3>
<p>This works well if you have an stable environment in which to do it. If the header is the same across the entire site, you can be certain that this will always give you the desired outcome. Right next to the JavaScript that you are using to change the positioning of the header, just grab a calculation of the current height of the sticky element and apply that value as top or bottom padding to the nearest element. <em>dusts off hands, walks away</em></p>

<pre><code class="language-javascript">var navHeight = document.getElementById('site-header').offsetHeight,
	page = document.getElementById('page');

page.style.paddingTop = navHeight + 'px';</code></pre>

<p>Keep in mind that <code class="highlighter-rouge">.offsetHeight</code> will include padding and border, but not margin.</p>

<h3 id="add-an-empty-div-after-the-sticky-header">Add an empty <code class="highlighter-rouge">&lt;div&gt;</code> after the sticky header</h3>
<p>This method is used by Stickyfill, which I’ve written about before. This method is a little more flexible if you’re looking to make multiple items sticky or if you aren’t sure what elements will be reliably above or below the header. Rather than reinventing a wheel, add Stickyfill to your project and follow its implementation. It does an excellent job and won’t lead to issues with page jump.</p>

  </div>

</article>

</div>
<footer class="site-footer group">
	<ul class="site-nav">
		<li><a href="/posts">Posts</a></li>
		<li><a href="/about">About</a></li>
	</ul>
	<ul class="social">
		<li><a href="https://twitter.com/samhermes"><img src="/img/twitter.svg"></a></li>
		<li><a href="https://github.com/samhermes"><img src="/img/github.svg"></a></li>
	</ul>
</footer>


  
<script src='/js/prism.js' type="text/javascript"></script>
  


