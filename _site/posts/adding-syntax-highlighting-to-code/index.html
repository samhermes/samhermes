<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Adding syntax highlighting to code</title>
<meta name="description" content="When I started working on the last iteration of my site, I knew I was going to need to figure out how to display code snippets. I considered using Github Gis...">

<link rel="stylesheet" href="/css/main.css">

<link rel="canonical" href="https://samhermes.com/posts/adding-syntax-highlighting-to-code/">
<link rel="alternate" type="application/rss+xml" title="Sam Hermes" href="https://samhermes.com/feed.xml">

<header class="site-header group">
	<div class="contain">
    <a class="logomark" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292 292"><title>Sam Hermes</title><circle cx="146" cy="146" r="146" fill="#ff6c6c"/><path d="M86.2 190.41l19-15c10.6 17.2 25.4 25.2 43.8 25.2 19.6 0 29.8-9.6 29.8-22.8 0-17.4-18.6-20.8-38.2-25C118 148.21 94 142.21 94 113c0-22.8 20.8-41.8 50.2-41.8 25 0 41.4 9 55.6 25l-18 14.2C173.2 98.81 163.2 91 144.2 91c-19.6 0-27.8 9.2-27.8 21.8 0 14.8 17.2 17.6 36.2 21.6 23 4.8 48.6 11.4 48.6 43.2 0 22.4-18.4 43.6-51.6 43.6-30.4.01-49.6-11.99-63.4-30.79z" fill="#ffffff"/></svg></a>
    <ul class="site-nav">
      <li><a href="/posts">Posts</a></li>
      <li><a href="/about">About</a></li>
    </ul>
   	</div>
</header>

<div class="page">
<article class="post">

  <header class="post-header">
    <p class="post-meta"><time>August 25, 2016</time></p>
    <h2 class="post-title">Adding syntax highlighting to code</h2>
  </header>

  <div class="post-content">
    <p>When I started working on the last iteration of my site, I knew I was going to need to figure out how to display code snippets. I considered using Github Gists or Codepen, but they both seemed to be a bit overkill. Also, I wanted control over the appearance and formatting.</p>

<p>If I wasn’t going to be embedding the code, that meant I would need to add it directly to the post, wrap it in <code class="highlighter-rouge">&lt;pre&gt;</code> tags, and style it. I could handle the first two steps, but needed help styling it. There are a number of JavaScript libraries that will apply syntax highlighting to your code, but I landed on <a href="http://prismjs.com">Prism.js</a>. It was the lightest option, and was the easiest to tweak the styles of. I am using the Okaidia theme and added PHP to the list of default languages.</p>

<p>Since I’m using Jekyll to build my site, I wasn’t sure how to conditionally include Prism only on the posts I’m using code snippets in. Using an <a href="http://mattgemmell.com/page-specific-assets-with-jekyll/">article by Matt Gemmell</a>, I added YAML front matter that specified the name of the JavaScript file to include.</p>

<pre><code class="language-markup">custom_js: prism</code></pre>

<p>Then, in the footer, I added a <code class="highlighter-rouge">for</code> loop that added a script tag for each javascript file included.</p>

<pre><code class="language-markup">{% if page.custom_js %}
  {% for js_file in page.custom_js %}
&lt;script src='/js/{{ js_file }}.js' type="text/javascript"&gt;&lt;/script&gt;
  {% endfor %}
{% endif %}</code></pre>

<p>Prism comes with the appropriate styles bundled with it, which I just copied and included in my main stylesheet, tweaking them slightly.</p>

<p>With Prism running on the page, all that’s needed to properly activate it is the appropriate class for the language of the code snippet. For the above snippet, I added <code class="highlighter-rouge">class="language-markup"</code> to the <code class="highlighter-rouge">&lt;code&gt;</code>  element to add the appropriate highlighting. Now when making a new post, I just need to include the YAML front matter and add a class, and that’s it!</p>

  </div>

  <div class="about-me">
  	<img src="/img/samhermes-175.jpg" srcset="/img/samhermes-350.jpg 2x, /img/samhermes-525.jpg 3x" alt="Sam Hermes">
  	<p class="name">Sam Hermes</p>
  	<p class="description">I'm a web developer at Washington University in St. Louis. I write about WordPress, PHP, CSS, SVG, and more. <a href="/about">More about me &rarr;</a></p>
  </div>
</article>

</div>
<footer class="site-footer group">
	<ul class="site-nav">
		<li><a href="/posts">Posts</a></li>
		<li><a href="/about">About</a></li>
	</ul>
	<svg xmlns="http://www.w3.org/2000/svg" width="30" height="18" viewBox="0 0 30 18" class="pride"><path fill="#E40303" d="M0 0h30v3H0z"/><path fill="#FF8C00" d="M0 3h30v3H0z"/><path fill="#FFED00" d="M0 6h30v3H0z"/><path fill="#008026" d="M0 9h30v3H0z"/><path fill="#004DFF" d="M0 12h30v3H0z"/><path fill="#750787" d="M0 15h30v3H0z"/></svg>
	<ul class="social">
		<li><a href="https://twitter.com/samhermes"><img src="/img/twitter.svg"></a></li>
		<li><a href="https://github.com/samhermes"><img src="/img/github.svg"></a></li>
	</ul>
</footer>


  
<script src='/js/prism.js' type="text/javascript"></script>
  


