<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Adding syntax highlighting to code</title>
  <meta name="description" content="When I started working on the last iteration of my site, I knew I was going to need to figure out how to display code snippets.">

  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="canonical" href="http://samhermes.com/posts/adding-syntax-highlighting-to-code/">
  <link rel="alternate" type="application/rss+xml" title="Sam Hermes" href="http://samhermes.com/feed.xml">
</head>


  <body>

    <header class="site-header group">
    <h1 class="site-title"><a href="/"><img src="/img/sam-hermes.svg" alt="Sam Hermes" width="178" height="21"></a></h1>
    <ul>
      <li><a href="/">Posts</a></li>
      <li><a href="/about">About</a></li>
    </ul>
</header>


    <article class="post">

  <header class="post-header">
    <p class="post-meta"><time>8/25/2016</time></p>
    <h1 class="post-title">Adding syntax highlighting to code</h1>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>When I started working on the last iteration of my site, I knew I was going to need to figure out how to display code snippets. I considered using Github Gists or Codepen, but they both seemed to be a bit overkill. Also, I wanted control over the appearance and formatting.</p>

<p>If I wasn’t going to be embedding the code, that meant I would need to add it directly to the post, wrap it in <code class="highlighter-rouge">&lt;pre&gt;</code> tags, and style it. I could handle the first two steps, but needed help styling it. There are a number of JavaScript libraries that will apply syntax highlighting to your code, but I landed on <a href="http://prismjs.com">Prism.js</a>. It was the lightest option, and was the easiest to tweak the styles of. I am using the Okaidia theme and added PHP to the list of default languages.</p>

<p>Since I’m using Jekyll to build my site, I wasn’t sure how to conditionally include Prism only on the posts I’m using code snippets in. Using an <a href="http://mattgemmell.com/page-specific-assets-with-jekyll/">article by Matt Gemmell</a>, I added YAML front matter that specified the name of the JavaScript file to include.</p>

<pre><code class="language-markup">custom_js: prism</code></pre>

<p>Then, in the footer, I added a <code class="highlighter-rouge">for</code> loop that added a script tag for each javascript file included.</p>

<pre><code class="language-markup">{% if page.custom_js %}
  {% for js_file in page.custom_js %}
&lt;script src='/js/{{ js_file }}.js' type="text/javascript"&gt;&lt;/script&gt;
  {% endfor %}
{% endif %}</code></pre>

<p>Prism comes with the appropriate styles bundled with it, which I just copied and included in my main stylesheet, tweaking them slightly.</p>

<p>With Prism running on the page, all that’s needed to properly activate it is the appropriate class for the language of the code snippet. For the above snippet, I added <code class="highlighter-rouge">class="language-markup"</code> to the <code class="highlighter-rouge">&lt;code&gt;</code>  element to add the appropriate highlighting. Now when making a new post, I just need to include the YAML front matter and add a class, and that’s it!</p>

  </div>

</article>


    
  
<script src='/js/prism.js' type="text/javascript"></script>
  



  </body>

</html>
