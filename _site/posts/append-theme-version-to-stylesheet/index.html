<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Append theme version to stylesheet</title>
<meta name="description" content="With browsers getting more aggressive about holding on to local cache, it can be aggravating to hear that an end user doesn’t see updates, or they see someth...">

<link rel="stylesheet" href="/css/main.css?v=1.0.1">

<link rel="canonical" href="http://localhost:4000/posts/append-theme-version-to-stylesheet/">
<link rel="alternate" type="application/rss+xml" title="Sam Hermes" href="http://localhost:4000/feed.xml">
<link rel="alternate" type="application/json" title="Sam Hermes" href="http://localhost:4000/feed.json" />

<header class="site-header group">
	<div class="contain">
    <a class="logomark" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292 292"><title>Sam Hermes</title><circle cx="146" cy="146" r="146" fill="#1d1d1d"/><path d="M86.2 190.41l19-15c10.6 17.2 25.4 25.2 43.8 25.2 19.6 0 29.8-9.6 29.8-22.8 0-17.4-18.6-20.8-38.2-25C118 148.21 94 142.21 94 113c0-22.8 20.8-41.8 50.2-41.8 25 0 41.4 9 55.6 25l-18 14.2C173.2 98.81 163.2 91 144.2 91c-19.6 0-27.8 9.2-27.8 21.8 0 14.8 17.2 17.6 36.2 21.6 23 4.8 48.6 11.4 48.6 43.2 0 22.4-18.4 43.6-51.6 43.6-30.4.01-49.6-11.99-63.4-30.79z" fill="#ffffff"/></svg></a>
    <ul class="site-nav">
      <li><a href="/posts">Posts</a></li>
      <li><a href="/photos">Photos</a></li>
    </ul>
   	</div>
</header>

<div class="page">
<article class="post">

  <header class="post-header">
    <p class="post-meta"><time>September 25, 2017</time></p>
    <h2 class="post-title">Append theme version to stylesheet</h2>
  </header>

  <div class="post-content">
    <p>With browsers getting more aggressive about holding on to local cache, it can be aggravating to hear that an end user doesn’t see updates, or they see something quite broken because a few styles are missing. This can be improved by appending a version number to the end of any stylesheet in your project.</p>

<p>In WordPress, the version number can come straight from the theme. To get the theme’s current version, make a call to <code class="highlighter-rouge">wp_get_theme()</code>:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$theme_version</span> <span class="o">=</span> <span class="nx">wp_get_theme</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span> <span class="s1">'Version'</span> <span class="p">);</span></code></pre></figure>

<p>This returns the theme’s current version and stores it in a variable. To use the <code class="highlighter-rouge">$theme_version</code> variable when enqueuing styles, add it like so:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">wp_enqueue_style</span><span class="p">(</span> <span class="s1">'theme-style'</span><span class="p">,</span> <span class="nx">get_stylesheet_uri</span><span class="p">(),</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$theme_version</span> <span class="p">);</span></code></pre></figure>

<p>Of course, for this to be effective, you’ll want to bump your theme’s version any time you have a new release. Now, whether you’re developing or publicly releasing a new feature, you can rest easier knowing that your end users are seeing what you’re seeing.</p>

  </div>

  <div class="about-me">
  	<p class="name">Sam Hermes</p>
  	<p class="description">I'm a web developer at Washington University in St. Louis. I write about WordPress, PHP, CSS, SVG, and more.</p>
  </div>
</article>

</div>
<footer class="site-footer group">
	<ul class="site-nav">
		<li><a href="/posts">Posts</a></li>
		<li><a href="/photos">Photos</a></li>
	</ul>
	<svg xmlns="http://www.w3.org/2000/svg" width="30" height="18" viewBox="0 0 30 18" class="pride"><path fill="#E40303" d="M0 0h30v3H0z"/><path fill="#FF8C00" d="M0 3h30v3H0z"/><path fill="#FFED00" d="M0 6h30v3H0z"/><path fill="#008026" d="M0 9h30v3H0z"/><path fill="#004DFF" d="M0 12h30v3H0z"/><path fill="#750787" d="M0 15h30v3H0z"/></svg>
	<ul class="social">
		<li><a href="https://codepen.io/samhermes"><img src="/img/codepen.svg"></a></li>
		<li><a href="https://github.com/samhermes"><img src="/img/github.svg"></a></li>
	</ul>
</footer>


  
<script src="/js/prism.js"></script>
  


